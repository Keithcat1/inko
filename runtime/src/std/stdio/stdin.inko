# Methods for reading from STDIN.
#
# This module provides various methods for reading data from STDIN.
import std::io::(Read, Error as IOError)
import std::process::(blocking)

extern def stdin_read(bytes: ByteArray, size: Integer) !! String -> Integer

impl Read for ThisModule {
  def read_bytes(bytes: ByteArray, size = 0) !! IOError -> Integer {
    blocking {
      try stdin_read(bytes, size) else (error) throw IOError.new(error)
    }
  }
}
